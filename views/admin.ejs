<!-- admin.ejs - Admin panel -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <h1>Admin Panel</h1>
    <nav>
        <a href="/admin">Dashboard</a> |
        <a href="/analytics">Analytics</a>
    </nav>

    <!-- Add Category Form -->
    <h2>Add Category</h2>
    <form action="/admin/add-category" method="POST">
        <label for="name">Category Name:</label>
        <input type="text" id="name" name="name" required>
        <button type="submit">Add Category</button>
    </form>

    <!-- Delete Category Form -->
    <h2>Delete Category</h2>
    <form action="/admin/delete-category" method="POST">
        <label for="category_id">Select Category to Delete:</label>
        <select id="category_id" name="category_id" required>
            <% categories.forEach(category => { %>
                <option value="<%= category.id %>"><%= category.name %></option>
            <% }) %>
        </select>
        <button type="submit">Delete Category</button>
    </form>

    <!-- Add Product Form -->
    <h2>Add Product</h2>
    <form action="/admin/add-product" method="POST" enctype="multipart/form-data">
        <label for="name">Product Name:</label>
        <input type="text" id="name" name="name" required><br>

        <label for="price">Price:</label>
        <input type="number" id="price" name="price" required><br>

        <label for="description">Description:</label>
        <textarea id="description" name="description" required></textarea><br>

        <label for="category_id">Category:</label>
        <select id="category_id" name="category_id" required>
            <% categories.forEach(category => { %>
                <option value="<%= category.id %>"><%= category.name %></option>
            <% }) %>
        </select><br>

        <label for="image">Product Image:</label>
        <input type="file" id="image" name="image" required><br>

        <button type="submit">Add Product</button>
    </form>

    <!-- Add Variant Form -->
    <h2>Add Variant</h2>
    <form action="/admin/add-variant" method="POST">
        <label for="product_id">Product:</label>
        <select id="product_id" name="product_id" required>
            <% products.forEach(product => { %>
                <option value="<%= product.id %>"><%= product.name %></option>
            <% }) %>
        </select><br>

        <label for="name">Variant Name:</label>
        <input type="text" id="name" name="name" required><br>

        <label for="price">Variant Price:</label>
        <input type="number" id="price" name="price" required><br>

        <button type="submit">Add Variant</button>
    </form>

    <!-- Add Image Form -->
    <h2>Add Product Image</h2>
    <form action="/admin/add-image" method="POST" enctype="multipart/form-data">
        <label for="product_id">Product:</label>
        <select id="product_id" name="product_id" required>
            <% products.forEach(product => { %>
                <option value="<%= product.id %>"><%= product.name %></option>
            <% }) %>
        </select><br>

<!-- Delete Product Form -->
<h2>Delete Product</h2>
<form action="/admin/delete-product" method="POST">
  <label for="product_id">Select Product to Delete:</label>
  <select id="product_id" name="product_id" required>
    <% products.forEach(product => { %>
      <option value="<%= product.id %>"><%= product.name %></option>
    <% }) %>
  </select>
  <button type="submit">Delete Product</button>
</form>

<form action="/admin/add-image" method="POST" enctype="multipart/form-data">
  <label for="image_url">Image:</label>
  <input type="file" id="image_url" name="image_url" required><br>
  <button type="submit">Add Image</button>
</form>

<!-- Add Custom Section Form -->
<h2>Add Custom Section</h2>
<form action="/admin/add-spec" method="POST">
  <label for="product_id">Product:</label>
  <select id="product_id" name="product_id" required>
    <% products.forEach(product => { %>
      <option value="<%= product.id %>"><%= product.name %></option>
    <% }) %>
  </select><br>

  <label for="section_name">Section Name:</label>
  <input type="text" id="section_name" name="section_name" placeholder="e.g., Camera" required><br>

  <label for="section_value">Section Value:</label>
  <textarea id="section_value" name="section_value" placeholder="e.g., Main Camera - 50MP, Front Camera - 15MP" required></textarea><br>

  <button type="submit">Add Section</button>
</form>


    <!-- Logout Button -->
    <h2>Logout</h2>
    <form action="/logout" method="POST">
        <button type="submit">Logout</button>
    </form>


</body>
</html>
